wait(0.5)
local ba = Instance.new("ScreenGui")
local ca = Instance.new("TextLabel")
local da = Instance.new("Frame")
local _b = Instance.new("TextLabel")
local ab = Instance.new("TextLabel")
local toggleButton = Instance.new("TextButton") -- Botón de alternar visibilidad
local fpsLabel = Instance.new("TextLabel") -- Etiqueta para mostrar los FPS
local timerLabel = Instance.new("TextLabel") -- Etiqueta para mostrar el temporizador
local isVisible = true -- Estado inicial de visibilidad

-- Parent the ScreenGui to the player's PlayerGui
ba.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ba.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- TextLabel setup
ca.Parent = ba
ca.Active = true
ca.BackgroundColor3 = Color3.new(0.176, 0.176, 0.176)
ca.Draggable = true
ca.Position = UDim2.new(0.698, 0, 0.098, 0)
ca.Size = UDim2.new(0, 304, 0, 52)
ca.Font = Enum.Font.SourceSansSemibold
ca.Text = "Anti AFK Kick Script"
ca.TextColor3 = Color3.new(0, 1, 1)
ca.TextSize = 22

-- Frame setup
da.Parent = ca
da.BackgroundColor3 = Color3.new(0.196, 0.196, 0.196)
da.Position = UDim2.new(0, 0, 1.019, 0)
da.Size = UDim2.new(0, 304, 0, 107)

-- Bottom text setup
_b.Parent = da
_b.BackgroundColor3 = Color3.new(0.176, 0.176, 0.176)
_b.Position = UDim2.new(0, 0, 0.8, 0)
_b.Size = UDim2.new(0, 304, 0, 21)
_b.Font = Enum.Font.Arial
_b.Text = "Made by ElPerritofeo_YT Y CHATGPT"
_b.TextColor3 = Color3.new(1, 1, 1)
_b.TextSize = 20

-- Status label setup
ab.Parent = da
ab.BackgroundColor3 = Color3.new(0.176, 0.176, 0.176)
ab.Position = UDim2.new(0, 0, 0.158, 0)
ab.Size = UDim2.new(0, 304, 0, 44)
ab.Font = Enum.Font.ArialBold
ab.Text = "Status: Script Started"
ab.TextColor3 = Color3.new(1, 1, 1)
ab.TextSize = 20

-- FPS Label setup
fpsLabel.Parent = ba
fpsLabel.Position = UDim2.new(0.9, 0, 0.05, 0) -- Posicionamos la etiqueta en la esquina superior derecha
fpsLabel.Size = UDim2.new(0, 100, 0, 30)
fpsLabel.BackgroundTransparency = 1
fpsLabel.TextColor3 = Color3.new(1, 1, 1)
fpsLabel.Font = Enum.Font.Arial
fpsLabel.TextSize = 20
fpsLabel.Text = "FPS: 0"

-- Timer Label setup
timerLabel.Parent = ba
timerLabel.Position = UDim2.new(0.83, 0, 0.1, 0) -- Mover el temporizador un poco más a la izquierda
timerLabel.Size = UDim2.new(0, 150, 0, 30)
timerLabel.BackgroundTransparency = 1
timerLabel.TextColor3 = Color3.new(1, 1, 1)
timerLabel.Font = Enum.Font.Arial
timerLabel.TextSize = 20
timerLabel.Text = "Elapsed Time: 0:00"

-- Toggle Button setup
toggleButton.Parent = ba
toggleButton.Position = UDim2.new(0.697, 0, 0.25, 0) -- Posicionamos el botón debajo del texto principal
toggleButton.Size = UDim2.new(0, 100, 0, 30)
toggleButton.Text = "Toggle GUI"
toggleButton.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2)
toggleButton.TextColor3 = Color3.new(1, 1, 1)

-- Función para alternar la visibilidad
local function toggleVisibility()
	if isVisible then
		-- Hacer transparente el GUI
		ca.BackgroundTransparency = 1
		da.BackgroundTransparency = 1
		_b.BackgroundTransparency = 1
		ab.BackgroundTransparency = 1
		ca.TextTransparency = 1
		_b.TextTransparency = 1
		ab.TextTransparency = 1
		fpsLabel.TextTransparency = 1
		timerLabel.TextTransparency = 1
	else
		-- Volver a hacerlo visible
		ca.BackgroundTransparency = 0
		da.BackgroundTransparency = 0
		_b.BackgroundTransparency = 0
		ab.BackgroundTransparency = 0
		ca.TextTransparency = 0
		_b.TextTransparency = 0
		ab.TextTransparency = 0
		fpsLabel.TextTransparency = 0
		timerLabel.TextTransparency = 0
	end
	isVisible = not isVisible -- Cambia el estado
end

-- Conectar el botón a la función de alternar
toggleButton.MouseButton1Click:Connect(toggleVisibility)

-- Anti-AFK Script
local bb = game:GetService('VirtualUser')
game:GetService('Players').LocalPlayer.Idled:Connect(function()
	bb:CaptureController()
	bb:ClickButton2(Vector2.new())
	ab.Text = "You went idle and ROBLOX tried to kick you but we reflected it!"
	wait(2)
	ab.Text = "Script Re-Enabled"
end)

-- Actualizar los FPS cada frame
local runService = game:GetService("RunService")
local lastTime = tick()
local frames = 0

runService.RenderStepped:Connect(function()
	frames = frames + 1
	local currentTime = tick()

	-- Actualiza cada segundo
	if currentTime - lastTime >= 1 then
		local fps = frames / (currentTime - lastTime)
		fpsLabel.Text = string.format("FPS: %.2f", fps)
		lastTime = currentTime
		frames = 0
	end
end)

-- Actualizar el temporizador
local startTime = tick()

runService.RenderStepped:Connect(function()
	local elapsedTime = tick() - startTime
	local minutes = math.floor(elapsedTime / 60)
	local seconds = math.floor(elapsedTime % 60)
	timerLabel.Text = string.format("Elapsed Time: %d:%02d", minutes, seconds)
end)
